<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Eco-QR</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="index-page">
  <header class="site-header">
    <div class="container">
      <h1>Eco-QR</h1>
      <nav class="navbar">
  <div class="menu-toggle" id="mobile-menu">
    ‚ò∞
  </div>

  <div class="nav-links" id="nav-links">
    <a href="index.html">Home</a>
    <a href="map.html">Collection Points</a>
    <a href="about.html">About Project</a>
    <a href="info.html">Knowledge Base</a>
    <a href="leaderboard.html">Leaderboard</a>
    <a href="complaints.html">Feedback Book</a>

    <select id="lang-switcher">
      <option value="index_ru.html">RU</option>
      <option value="index.html" selected>EN</option> 
      <option value="index_kz.html">KZ</option>
      <option value="index_tr.html">TR</option>
    </select>
  </div>
</nav>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h2>‚ôª Eco-QR: Drop off bottles, get bonuses!</h2>
      <p>Simple system: <b>Scan the QR code</b> at the collection point, <b>confirm with a photo</b>, and receive points that can be exchanged for prizes in the <b>Extra Zone</b> from Coca-Cola.</p>
      
      <section class="map-section" style="margin-top: 20px;">
        <h3>Find the nearest bottle collection point (PET)</h3>
        <p class="muted">Your location will be used to automatically find the nearest collection point for <b>bottles only</b> and build a route.</p>
        <div id="map" style="width: 100%; height: 500px; border-radius: 12px; margin-top: 10px;"></div>
        <button class="btn green" onclick="findNearest()">Find nearest point and route</button>
      </section>
      
      <button class="btn secondary" id="open-scan" onclick="openScanner()">Drop off bottle (QR)</button>
    </section>
<section id="qr-scanner-section" class="hidden card" style="margin-top: 20px;">
  <h2>QR Code Scanner</h2>

  <div id="qr-demo" class="demo">
    <p id="fake-text">Scanning in progress...</p>

    <div class="progress-bar">
      <div id="demo-progress" style="height:10px; background:var(--green,#4caf50); width:0%; border-radius:6px;"></div>
    </div>

    <input id="demo-code-input" type="text" placeholder="Enter code (optional)" style="margin-top:10px;" />

    <div class="demo-buttons" style="margin-top:10px; display:flex; gap:10px;">
      <button id="start-demo-btn" class="btn">Start Demo Scan</button>
      <button id="cancel-demo-btn" class="btn secondary">Cancel</button>
    </div>

    <p id="demo-result" style="display:none; margin-top:10px;"></p>
  </div>

  <p id="scan-result" class="muted"></p>

  <section id="photo-upload-section" class="card hidden" style="margin-top:12px;">
    <h3>Step 2: Confirm with a photo of the bottle drop-off</h3>
    <p class="muted">Upload a photo near the collection container ‚Äî this is needed for verification.</p>

    <label for="photo-upload">Upload Photo</label>
    <input id="photo-upload" type="file" accept="image/*" onchange="previewImage(event)">

    <img id="photo-preview" class="preview hidden" src="" alt="Preview"
         style="max-height:240px; display:none; margin-top:10px; border-radius:8px;">

    <p id="submission-msg" class="muted" style="margin-top:8px;"></p>

    <div style="margin-top:12px; display:flex; gap:10px;">
      <button class="btn" onclick="confirmSubmission()">Confirm Drop-off</button>
      <button class="btn secondary" onclick="(function(){
        document.getElementById('photo-upload').value='';
        document.getElementById('photo-preview').src='';
        document.getElementById('photo-preview').classList.add('hidden');
      })()">Cancel</button>
    </div>
  </section>
</section>
    

    <section class="card explore-more">
      <h2>What's next? Find out more!</h2>
      <div class="explore-grid">
        <div class="explore-item green">
          <h3>About the project and recycling ‚ôªÔ∏è</h3>
          <p>Learn about the Eco-QR mission, how to properly sort plastic, and how your contribution saves the nature of Kazakhstan.</p>
          <a href="info.html" class="btn">Go to education</a>
        </div>
        <div class="explore-item red">
          <h3>Leaderboard and bonuses üèÜ</h3>
          <p>Track your progress, exchange points for prizes in the Extra Zone, and compete with other participants!</p>
          <a href="leaderboard.html" class="btn secondary">Open Leaderboard</a>
        </div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container">
      <p>¬© 2025 Eco-QR. Project implemented with the support of CCI Kazakhstan.</p>
    </div>
  </footer>
  
 
<script src="script.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC_-PttW0plI6Ki25bQypqL6OSyA2GffHo&libraries=geometry&callback=initMap"></script>


</body>
</html>